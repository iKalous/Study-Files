for i:=2 to n do 
        
begin 
                
	if bz[i]=0 then 
                
	begin 
                        
		inc(t); 
                        
		p[t]:=i;//加入素数 
                
	end; 
                
	for j:=1 to t do 
                
	begin 
                        
		if i*p[j]>n then break;//超出退出 
                        
		bz[i*p[j]]:=1; //标记
                        
		if i mod p[j]=0 then break;//如果这个会被其他数处理，退出 
                
	end; 
        
end;


bz[i]表示i是否为素数！


#include<cstdio>
bool bz[10000000];
long p[10000];
int main()
{
	long n,t,m;
	t=0;
	scanf("%ld%ld",&n,&m);
	for (int i=2;i<=n;i++)
	{
		if (!bz[i]) p[++t]=i;
		for (int j=1;j<=t;j++)
		{
			if (i*p[j]>n) break;
			bz[i*p[j]]=1;
			if (i%p[j]==0) break;
		}
	}
	for (int i=1;i<=m;i++)
	{
		long x;
		scanf("%ld",&x);
		bz[x]==0 ? printf("YES\n"):printf("NO\n");
	}
}